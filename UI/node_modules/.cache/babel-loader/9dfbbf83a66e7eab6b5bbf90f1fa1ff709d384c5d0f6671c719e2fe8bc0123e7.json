{"ast":null,"code":"import _objectSpread from\"/home/devi/BMI/services/frontend/biomultitool/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/devi/BMI/services/frontend/biomultitool/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{get,dbBackgrounds,del,deleteAnim}from'../Utils/Utils';import'./Databases.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Databases=function Databases(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),blastDb=_useState2[0],setBlastDb=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),skaniSketch=_useState4[0],setSkani=_useState4[1];var getMany=function getMany(collection,hook){get(\"/db/\".concat(collection)).then(function(entries){hook(entries.map(function(entry){return/*#__PURE__*/_jsx(DbEntry,{data:entry,collection:collection},entry._id);}));});};var getDbs=function getDbs(){getMany(\"blast-db\",setBlastDb);getMany(\"skani-sketch\",setSkani);};useEffect(getDbs,[]);var DbEntry=function DbEntry(_ref){var _dbBackgrounds$data$t;var data=_ref.data,collection=_ref.collection;var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),style=_useState6[0],setStyle=_useState6[1];console.log(data);return/*#__PURE__*/_jsxs(\"div\",{className:\"Task\",style:_objectSpread({background:(_dbBackgrounds$data$t=dbBackgrounds[data.type])!==null&&_dbBackgrounds$data$t!==void 0?_dbBackgrounds$data$t:\"var(--paleOrange)\"},style),children:[/*#__PURE__*/_jsx(\"button\",{className:\"Delete\",onClick:function onClick(){return del(\"/db/\".concat(collection,\"/\").concat(data._id),function(){return setStyle(deleteAnim);});}}),/*#__PURE__*/_jsx(\"p\",{className:\"Title\",children:data.title}),/*#__PURE__*/_jsx(\"p\",{className:\"Type\",children:data.type}),/*#__PURE__*/_jsx(\"p\",{className:\"Id\",children:data._id})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"DatabaseList\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"DbWrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"DbTitle\",children:\"Blast\"}),/*#__PURE__*/_jsx(\"div\",{className:\"EntryList\",children:blastDb})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"DbWrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"DbTitle\",children:\"Skani\"}),/*#__PURE__*/_jsx(\"div\",{className:\"EntryList\",children:skaniSketch})]})]});};export default Databases;","map":{"version":3,"names":["useEffect","useState","get","dbBackgrounds","del","deleteAnim","jsx","_jsx","jsxs","_jsxs","Databases","_useState","_useState2","_slicedToArray","blastDb","setBlastDb","_useState3","_useState4","skaniSketch","setSkani","getMany","collection","hook","concat","then","entries","map","entry","DbEntry","data","_id","getDbs","_ref","_dbBackgrounds$data$t","_useState5","_useState6","style","setStyle","console","log","className","_objectSpread","background","type","children","onClick","title"],"sources":["/home/devi/BMI/services/frontend/biomultitool/src/components/Databases/Databases.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { get, dbBackgrounds, del, deleteAnim } from '../Utils/Utils'\nimport './Databases.css'\n\nconst Databases = () => {\n\nconst [blastDb, setBlastDb] = useState(null)\nconst [skaniSketch, setSkani] = useState(null)\n\nconst getMany = (collection, hook) => {\n\tget(`/db/${collection}`).then(entries => { hook(entries.map(entry => { return <DbEntry key={ entry._id } data={ entry } collection={ collection }/> })) })\n}\n\nconst getDbs = () => {\n\tgetMany(`blast-db`, setBlastDb)\n\tgetMany(`skani-sketch`, setSkani)\n}\n\nuseEffect(getDbs,[])\n\nconst DbEntry = ({ data, collection }) => {\n\tconst [style, setStyle] = useState({ })\n\tconsole.log(data)\n\treturn (\n\t\t<div className='Task' style={{ background: dbBackgrounds[data.type]??`var(--paleOrange)`, ...style }}>\n\t\t\t<button className='Delete' onClick={() => del(`/db/${collection}/${data._id}`, () => setStyle(deleteAnim)) }></button>\n\t\t\t<p className='Title'>{ data.title }</p>\n\t\t\t<p className='Type'>{ data.type }</p>\n\t\t\t<p className='Id'>{ data._id }</p>\n\t\t</div>\n\t)\n}\n\nreturn (\n\t<div className='DatabaseList'>\n\t\t<div className='DbWrapper'><div className='DbTitle'>Blast</div><div className='EntryList'>{ blastDb }</div></div>\n\t\t<div className='DbWrapper'><div className='DbTitle'>Skani</div><div className='EntryList'>{ skaniSketch }</div></div>\t\n\t</div>\n\t)\n}\n\nexport default Databases\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}