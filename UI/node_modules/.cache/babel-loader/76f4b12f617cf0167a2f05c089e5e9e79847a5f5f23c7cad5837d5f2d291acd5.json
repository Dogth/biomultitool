{"ast":null,"code":"import _objectSpread from\"/home/devi/BMI/services/biomultitool/backend/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/home/devi/BMI/services/biomultitool/backend/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/devi/BMI/services/biomultitool/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./Tasks.css';import{useEffect,useState}from\"react\";import{Link}from'react-router-dom';import{get,del,backgrounds,deleteAnim}from'../Utils/Utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Tasks=function Tasks(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),running=_useState2[0],setRunning=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),completed=_useState4[0],setCompleted=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),queued=_useState6[0],setQueued=_useState6[1];var displayTasks=function displayTasks(){var set={\"queued\":setQueued,\"running\":setRunning};get(\"/db/tasks\").then(function(tasks){return tasks.forEach(function(task){var _set$task$status;(_set$task$status=set[task.status])!==null&&_set$task$status!==void 0?_set$task$status:setCompleted(function(prevState){return[].concat(_toConsumableArray(prevState),[/*#__PURE__*/_jsx(Task,{data:task},task._id)]);});});});};useEffect(displayTasks,[]);var Task=function Task(_ref){var _backgrounds$data$sta;var data=_ref.data;var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),style=_useState8[0],setStyle=_useState8[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"Task\",style:_objectSpread({backgroundColor:(_backgrounds$data$sta=backgrounds[data.status])!==null&&_backgrounds$data$sta!==void 0?_backgrounds$data$sta:\"var(--paleOrange)\"},style),children:[data.status!==\"running\"?/*#__PURE__*/_jsx(\"button\",{className:\"Delete\",onClick:function onClick(){return del(\"/db/tasks/\".concat(data._id),function(){return setStyle(deleteAnim);});}}):null,data.status===\"done\"?/*#__PURE__*/_jsx(Link,{className:\"Download\",to:\"/files/\".concat(data.toolname,\"/\").concat(data.title)}):null,/*#__PURE__*/_jsxs(\"p\",{className:\"Title\",children:[data.title,\" | \",data.toolname]}),/*#__PURE__*/_jsx(\"p\",{className:\"Id\",children:data._id}),/*#__PURE__*/_jsx(\"p\",{className:\"CreatedAt\",children:data.createdAt}),/*#__PURE__*/_jsx(\"p\",{className:\"Status\",children:data.status})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"Form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"DbWrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"TaskList\",children:completed})}),/*#__PURE__*/_jsx(\"div\",{className:\"DbWrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"TaskList\",children:running})}),/*#__PURE__*/_jsx(\"div\",{className:\"DbWrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"TaskList\",children:queued})})]});};export default Tasks;","map":{"version":3,"names":["useEffect","useState","Link","get","del","backgrounds","deleteAnim","jsx","_jsx","jsxs","_jsxs","Tasks","_useState","_useState2","_slicedToArray","running","setRunning","_useState3","_useState4","completed","setCompleted","_useState5","_useState6","queued","setQueued","displayTasks","set","then","tasks","forEach","task","_set$task$status","status","prevState","concat","_toConsumableArray","Task","data","_id","_ref","_backgrounds$data$sta","_useState7","_useState8","style","setStyle","className","_objectSpread","backgroundColor","children","onClick","to","toolname","title","createdAt"],"sources":["/home/devi/BMI/services/biomultitool/backend/frontend/src/components/Tasks/Tasks.js"],"sourcesContent":["import './Tasks.css'\nimport { useEffect, useState } from \"react\"\nimport { Link } from 'react-router-dom'\nimport { get, del, backgrounds, deleteAnim } from '../Utils/Utils'\n\nconst Tasks = () => {\n\nconst [running,setRunning] = useState([])\nconst [completed,setCompleted] = useState([])\nconst [queued, setQueued] = useState([])\n\nconst displayTasks = () => {\nconst set = {\n\t\"queued\": setQueued,\n\t\"running\": setRunning\n}\n\n\tget(`/db/tasks`).then(tasks => tasks.forEach(task => { set[task.status]??setCompleted(prevState => [...prevState,  <Task key={ task._id } data={ task } />]) }))\n}\n\nuseEffect(displayTasks, [])\n\nconst Task = ({ data }) => {\n\t\n\tconst [style, setStyle] = useState({ })\n\t\n\treturn (\n\t\t<div className='Task' style={{ backgroundColor: backgrounds[data.status]??`var(--paleOrange)`, ...style }}>\n\t\t{ (data.status !==`running`)?<button className='Delete' onClick={() => del(`/db/tasks/${data._id}`, () => setStyle(deleteAnim)) }/>:null }\n\t\t{ (data.status === `done`)?<Link className='Download' to={ `/files/${data.toolname}/${data.title}` }/>:null }\n\t\t<p className='Title'>{ data.title } | { data.toolname }</p>\n\t\t<p className='Id'>{ data._id }</p>\n\t\t<p className='CreatedAt'>{ data.createdAt }</p>\n\t\t<p className='Status'>{ data.status }</p>\n\t\t</div>\n\t)\n}\n\nreturn (\n\t<div className='Form'>\n\t<div className='DbWrapper'><div className='TaskList'>{ completed }</div></div>\n\t<div className='DbWrapper'><div className='TaskList'>{ running }</div></div>\n\t<div className='DbWrapper'><div className='TaskList'>{ queued }</div></div>\n\t</div>\n\t)\n}\n\nexport default Tasks\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}