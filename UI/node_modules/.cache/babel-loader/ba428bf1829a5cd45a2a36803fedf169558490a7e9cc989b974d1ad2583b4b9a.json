{"ast":null,"code":"import _objectSpread from\"/home/devi/BMI/services/frontend/biomultitool/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/devi/BMI/services/frontend/biomultitool/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./Tasks.css';import{useEffect,useState}from\"react\";import{Link}from'react-router-dom';import{get,del,backgrounds,deleteAnim}from'../Utils/Utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Tasks=function Tasks(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),tasks=_useState2[0],setTasks=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),task=_useState4[0],viewTask=_useState4[1];var displayTasks=function displayTasks(){get(\"/db/tasks\").then(function(tasks){return setTasks(tasks.map(function(task){return/*#__PURE__*/_jsx(Task,{data:task,onClick:function onClick(){return viewTask(task);}},task._id);}));});};useEffect(displayTasks,[]);var Task=function Task(_ref){var _backgrounds$data$sta;var data=_ref.data,onClick=_ref.onClick;var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),style=_useState6[0],setStyle=_useState6[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"Task\",style:_objectSpread({backgroundColor:(_backgrounds$data$sta=backgrounds[data.status])!==null&&_backgrounds$data$sta!==void 0?_backgrounds$data$sta:\"var(--paleOrange)\"},style),children:[/*#__PURE__*/_jsx(\"button\",{className:\"Delete\",onClick:function onClick(){return del(\"/db/tasks/\".concat(data._id),function(){return setStyle(deleteAnim);});}}),/*#__PURE__*/_jsxs(\"div\",{onClick:onClick,children:[/*#__PURE__*/_jsxs(\"p\",{className:\"Title\",children:[\"Title: \",data.title,\" | \",data.toolname]}),/*#__PURE__*/_jsx(\"p\",{className:\"Id\",children:data._id}),/*#__PURE__*/_jsx(\"p\",{className:\"CreatedAt\",children:data.createdAt})]})]});};var TaskInfo=function TaskInfo(_ref2){var _data$title;var data=_ref2.data;return/*#__PURE__*/_jsxs(\"div\",{className:\"TaskInfo\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"Title\",children:[(_data$title=data.title)!==null&&_data$title!==void 0?_data$title:null,\" \",data.status==='done'?/*#__PURE__*/_jsx(Link,{to:\"/Files/\".concat(data.toolname,\"/\").concat(data.title),children:\"Results\"}):\"No results avaliable\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"Status\",children:data.status}),/*#__PURE__*/_jsx(\"p\",{className:\"id\",children:data._id}),/*#__PURE__*/_jsx(\"p\",{className:\"TaskTool\",children:data.toolname}),/*#__PURE__*/_jsx(\"p\",{className:\"TaskDir\",children:data.dir})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"Divider\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"TaskList\",children:tasks}),/*#__PURE__*/_jsx(TaskInfo,{data:task})]});};export default Tasks;","map":{"version":3,"names":["useEffect","useState","Link","get","del","backgrounds","deleteAnim","jsx","_jsx","jsxs","_jsxs","Tasks","_useState","_useState2","_slicedToArray","tasks","setTasks","_useState3","_useState4","task","viewTask","displayTasks","then","map","Task","data","onClick","_id","_ref","_backgrounds$data$sta","_useState5","_useState6","style","setStyle","className","_objectSpread","backgroundColor","status","children","concat","title","toolname","createdAt","TaskInfo","_ref2","_data$title","to","dir"],"sources":["/home/devi/BMI/services/frontend/biomultitool/src/components/Tasks/Tasks.js"],"sourcesContent":["import './Tasks.css'\nimport { useEffect, useState } from \"react\"\nimport { Link } from 'react-router-dom'\nimport { get, del, backgrounds, deleteAnim } from '../Utils/Utils'\n\nconst Tasks = () => {\n\nconst [tasks,setTasks] = useState(null)\nconst [task,viewTask] = useState({ })\n\nconst displayTasks = () => {\n\tget(`/db/tasks`).then(tasks => setTasks(tasks.map(task => { return <Task key={ task._id } data={ task } onClick={ () => viewTask(task) }/> })))\n}\n\nuseEffect(displayTasks, [])\n\nconst Task = ({ data, onClick }) => {\n\t\n\tconst [style, setStyle] = useState({ })\n\n\treturn (\n\t\t<div className='Task' style={{ backgroundColor: backgrounds[data.status]??`var(--paleOrange)`, ...style }}>\n\t\t\t<button className='Delete' onClick={() => del(`/db/tasks/${data._id}`, () => setStyle(deleteAnim))}></button>\n\t\t\t<div onClick={ onClick }>\n\t\t\t<p className='Title'>Title: { data.title } | { data.toolname }</p>\n\t\t\t<p className='Id'>{ data._id }</p>\n\t\t\t<p className='CreatedAt'>{ data.createdAt }</p>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nconst TaskInfo = ({ data }) => {\n\treturn (\n\t\t<div className='TaskInfo'>\n\t\t\t<p className='Title'>{ data.title??null} { (data.status === 'done')?<Link to={`/Files/${data.toolname}/${data.title}`}>Results</Link>:`No results avaliable` }</p>\n\t\t\t<p className='Status'>{ data.status }</p>\n\t\t\t<p className='id'>{ data._id }</p>\n\t\t\t<p className='TaskTool'>{ data.toolname }</p>\n\t\t\t<p className='TaskDir'>{ data.dir }</p>\n\t\t</div>\n\t)\n}\n\n\treturn (\n\t\t<div className='Divider'>\n\t\t<div className='TaskList'>{ tasks }</div>\n\t\t<TaskInfo data={ task }/>\n\t\t</div>\n\t)\n}\n\nexport default Tasks\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}